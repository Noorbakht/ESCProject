{"remainingRequest":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\src\\views\\Home.vue","mtime":1587211324671},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmgzIHsKICBtYXJnaW46IDQwcHggMCAwOwp9CnVsIHsKICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgcGFkZGluZzogMDsKfQpsaSB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIG1hcmdpbjogMCAxMHB4Owp9CmEgewogIGNvbG9yOiAjNDJiOTgzOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQpsaSBhIHsKICB0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KLmhlYWRlciB7CiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIuLi9hc3NldHMvYmFuay5qcGciKTsKICBjb2xvcjogI2ZmZjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgcGFkZGluZzogMjcwcHg7Cn0KCi5oZWFkZXIgYSB7CiAgY29sb3I6ICNmZmY7CiAgcGFkZGluZy1yaWdodDogNXB4OwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container fluid class=\"pa-0\">\n    <div class=\"text-center\">\n      <header class=\"header\">\n        <h1 class=\"display-4\">Customer Support Page</h1>\n      </header>\n      <v-btn width=\"100%\" height=\"180\" x-large color=\"#B0BEC5\" dark :to=\"{ name: 'guest' }\">\n        <span>\n          <h2>Use Guest Account</h2>\n        </span>\n      </v-btn>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport rainbowSDK from \"rainbow-web-sdk\";\n\nexport default {\n  name: \"Home\",\n  created() {\n    document.addEventListener(rainbowSDK.RAINBOW_ONLOADED, this.onLoaded);\n    rainbowSDK.start();\n    rainbowSDK.load();\n  },\n  methods: {\n    onLoaded: function() {\n      //set app id\n      var applicationID = \"ecb354505ef711ea9a6dcf004cf8c14e\";\n      //set app secret\n      var applicationSecret =\n        \"8qXAAAXSKPN2JirciZwpoTkkzqLX8AWx55kg55WRFSmVGrIfb2xEleTeuwp44qVB\";\n      rainbowSDK.setVerboseLog(false);\n      rainbowSDK\n        .initialize(applicationID, applicationSecret)\n        .then(() => {\n          console.log(\"[DEMO] :: Rainbow SDK is initialized!\");\n        })\n        .catch(err => {\n          console.log(\"[DEMO] :: Something went wrong with the SDK...\", err);\n        });\n      console.log(\"onLoaded()\");\n    },\n    availability: async function(customerId, skill, content) {\n      // Send customer a message indicating the number of agents available\n      let customerContact = await nodeSDK.contacts.getContactById(\n        customerId,\n        true\n      );\n      console.log(\"Got customer contact\");\n      let conversation = await nodeSDK.conversations.openConversationForContact(\n        customerContact\n      );\n      console.log(\"Got conversation\");\n      var totalCount;\n      var availableCount;\n\n      // Count the number of available agents\n      MongoClient.connect(url, { useUnifiedTopology: true }, async function(\n        err,\n        client\n      ) {\n        const col = client.db(dbName).collection(skill);\n\n        await col.countDocuments(function(err, count) {\n          if (!err) {\n            console.log(\"Mongo Total Count is: \" + count);\n            totalCount = count;\n          }\n        });\n        await col.countDocuments({ presence: \"online\" }, function(err, count) {\n          if (!err) {\n            console.log(\"Mongo Available Count is: \" + count);\n            availableCount = count;\n            nodeSDK.im.sendMessageToConversation(\n              conversation,\n              `There are ${availableCount}/${totalCount} agents available in the ${content} category`\n            );\n          }\n        });\n      });\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n  text-decoration: none;\n}\nli a {\n  text-decoration: none;\n}\n.header {\n  background-image: url(\"../assets/bank.jpg\");\n  color: #fff;\n  text-align: center;\n  padding: 270px;\n}\n\n.header a {\n  color: #fff;\n  padding-right: 5px;\n  text-decoration: none;\n}\n</style>\n"]}]}
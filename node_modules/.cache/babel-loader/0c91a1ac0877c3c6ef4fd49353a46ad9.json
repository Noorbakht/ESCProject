{"remainingRequest":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\src\\views\\Home.vue","mtime":1587211324671},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\noorb\\OneDrive\\Desktop\\StarterKit-SDKWeb-VueJS-master\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxub29yYlxcT25lRHJpdmVcXERlc2t0b3BcXFN0YXJ0ZXJLaXQtU0RLV2ViLVZ1ZUpTLW1hc3Rlclxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCByYWluYm93U0RLIGZyb20gInJhaW5ib3ctd2ViLXNkayI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIocmFpbmJvd1NESy5SQUlOQk9XX09OTE9BREVELCB0aGlzLm9uTG9hZGVkKTsKICAgIHJhaW5ib3dTREsuc3RhcnQoKTsKICAgIHJhaW5ib3dTREsubG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgb25Mb2FkZWQ6IGZ1bmN0aW9uIG9uTG9hZGVkKCkgewogICAgICAvL3NldCBhcHAgaWQKICAgICAgdmFyIGFwcGxpY2F0aW9uSUQgPSAiZWNiMzU0NTA1ZWY3MTFlYTlhNmRjZjAwNGNmOGMxNGUiOyAvL3NldCBhcHAgc2VjcmV0CgogICAgICB2YXIgYXBwbGljYXRpb25TZWNyZXQgPSAiOHFYQUFBWFNLUE4ySmlyY2lad3BvVGtrenFMWDhBV3g1NWtnNTVXUkZTbVZHcklmYjJ4RWxlVGV1d3A0NHFWQiI7CiAgICAgIHJhaW5ib3dTREsuc2V0VmVyYm9zZUxvZyhmYWxzZSk7CiAgICAgIHJhaW5ib3dTREsuaW5pdGlhbGl6ZShhcHBsaWNhdGlvbklELCBhcHBsaWNhdGlvblNlY3JldCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIltERU1PXSA6OiBSYWluYm93IFNESyBpcyBpbml0aWFsaXplZCEiKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCJbREVNT10gOjogU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgU0RLLi4uIiwgZXJyKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCJvbkxvYWRlZCgpIik7CiAgICB9LAogICAgYXZhaWxhYmlsaXR5OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYXZhaWxhYmlsaXR5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjdXN0b21lcklkLCBza2lsbCwgY29udGVudCkgewogICAgICAgIHZhciBjdXN0b21lckNvbnRhY3QsIGNvbnZlcnNhdGlvbiwgdG90YWxDb3VudCwgYXZhaWxhYmxlQ291bnQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBub2RlU0RLLmNvbnRhY3RzLmdldENvbnRhY3RCeUlkKGN1c3RvbWVySWQsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBjdXN0b21lckNvbnRhY3QgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJHb3QgY3VzdG9tZXIgY29udGFjdCIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVTREsuY29udmVyc2F0aW9ucy5vcGVuQ29udmVyc2F0aW9uRm9yQ29udGFjdChjdXN0b21lckNvbnRhY3QpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb24gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJHb3QgY29udmVyc2F0aW9uIik7CiAgICAgICAgICAgICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGF2YWlsYWJsZSBhZ2VudHMKICAgICAgICAgICAgICAgIE1vbmdvQ2xpZW50LmNvbm5lY3QodXJsLCB7CiAgICAgICAgICAgICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZQogICAgICAgICAgICAgICAgfSwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZXJyLCBjbGllbnQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29sOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbCA9IGNsaWVudC5kYihkYk5hbWUpLmNvbGxlY3Rpb24oc2tpbGwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sLmNvdW50RG9jdW1lbnRzKGZ1bmN0aW9uIChlcnIsIGNvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk1vbmdvIFRvdGFsIENvdW50IGlzOiAiICsgY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQ291bnQgPSBjb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbC5jb3VudERvY3VtZW50cyh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlbmNlOiAib25saW5lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgY291bnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTW9uZ28gQXZhaWxhYmxlIENvdW50IGlzOiAiICsgY291bnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUNvdW50ID0gY291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVNESy5pbS5zZW5kTWVzc2FnZVRvQ29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbiwgIlRoZXJlIGFyZSAiLmNvbmNhdChhdmFpbGFibGVDb3VudCwgIi8iKS5jb25jYXQodG90YWxDb3VudCwgIiBhZ2VudHMgYXZhaWxhYmxlIGluIHRoZSAiKS5jb25jYXQoY29udGVudCwgIiBjYXRlZ29yeSIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCwgX3g1KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGF2YWlsYWJpbGl0eShfeCwgX3gyLCBfeDMpIHsKICAgICAgICByZXR1cm4gX2F2YWlsYWJpbGl0eS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYXZhaWxhYmlsaXR5OwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAgBA,OAAA,UAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,OAFA,qBAEA;AACA,IAAA,QAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,gBAAA,EAAA,KAAA,QAAA;AACA,IAAA,UAAA,CAAA,KAAA;AACA,IAAA,UAAA,CAAA,IAAA;AACA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA;AACA,UAAA,aAAA,GAAA,kCAAA,CAFA,CAGA;;AACA,UAAA,iBAAA,GACA,kEADA;AAEA,MAAA,UAAA,CAAA,aAAA,CAAA,KAAA;AACA,MAAA,UAAA,CACA,UADA,CACA,aADA,EACA,iBADA,EAEA,IAFA,CAEA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,uCAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gDAAA,EAAA,GAAA;AACA,OAPA;AAQA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,KAjBA;AAkBA,IAAA,YAAA;AAAA,kFAAA,kBAAA,UAAA,EAAA,KAAA,EAAA,OAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,OAAA,CAAA,QAAA,CAAA,cAAA,CACA,UADA,EAEA,IAFA,CAFA;;AAAA;AAEA,gBAAA,eAFA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,sBAAA;AANA;AAAA,uBAOA,OAAA,CAAA,aAAA,CAAA,0BAAA,CACA,eADA,CAPA;;AAAA;AAOA,gBAAA,YAPA;AAUA,gBAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AAIA;AACA,gBAAA,WAAA,CAAA,OAAA,CAAA,GAAA,EAAA;AAAA,kBAAA,kBAAA,EAAA;AAAA,iBAAA;AAAA,qFAAA,iBACA,GADA,EAEA,MAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,4BAAA,GAJA,GAIA,MAAA,CAAA,EAAA,CAAA,MAAA,EAAA,UAAA,CAAA,KAAA,CAJA;AAAA;AAAA,mCAMA,GAAA,CAAA,cAAA,CAAA,UAAA,GAAA,EAAA,KAAA,EAAA;AACA,kCAAA,CAAA,GAAA,EAAA;AACA,gCAAA,OAAA,CAAA,GAAA,CAAA,2BAAA,KAAA;AACA,gCAAA,UAAA,GAAA,KAAA;AACA;AACA,6BALA,CANA;;AAAA;AAAA;AAAA,mCAYA,GAAA,CAAA,cAAA,CAAA;AAAA,8BAAA,QAAA,EAAA;AAAA,6BAAA,EAAA,UAAA,GAAA,EAAA,KAAA,EAAA;AACA,kCAAA,CAAA,GAAA,EAAA;AACA,gCAAA,OAAA,CAAA,GAAA,CAAA,+BAAA,KAAA;AACA,gCAAA,cAAA,GAAA,KAAA;AACA,gCAAA,OAAA,CAAA,EAAA,CAAA,yBAAA,CACA,YADA,sBAEA,cAFA,cAEA,UAFA,sCAEA,OAFA;AAIA;AACA,6BATA,CAZA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAlBA;AAPA,CAAA","sourcesContent":["<template>\n  <v-container fluid class=\"pa-0\">\n    <div class=\"text-center\">\n      <header class=\"header\">\n        <h1 class=\"display-4\">Customer Support Page</h1>\n      </header>\n      <v-btn width=\"100%\" height=\"180\" x-large color=\"#B0BEC5\" dark :to=\"{ name: 'guest' }\">\n        <span>\n          <h2>Use Guest Account</h2>\n        </span>\n      </v-btn>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport rainbowSDK from \"rainbow-web-sdk\";\n\nexport default {\n  name: \"Home\",\n  created() {\n    document.addEventListener(rainbowSDK.RAINBOW_ONLOADED, this.onLoaded);\n    rainbowSDK.start();\n    rainbowSDK.load();\n  },\n  methods: {\n    onLoaded: function() {\n      //set app id\n      var applicationID = \"ecb354505ef711ea9a6dcf004cf8c14e\";\n      //set app secret\n      var applicationSecret =\n        \"8qXAAAXSKPN2JirciZwpoTkkzqLX8AWx55kg55WRFSmVGrIfb2xEleTeuwp44qVB\";\n      rainbowSDK.setVerboseLog(false);\n      rainbowSDK\n        .initialize(applicationID, applicationSecret)\n        .then(() => {\n          console.log(\"[DEMO] :: Rainbow SDK is initialized!\");\n        })\n        .catch(err => {\n          console.log(\"[DEMO] :: Something went wrong with the SDK...\", err);\n        });\n      console.log(\"onLoaded()\");\n    },\n    availability: async function(customerId, skill, content) {\n      // Send customer a message indicating the number of agents available\n      let customerContact = await nodeSDK.contacts.getContactById(\n        customerId,\n        true\n      );\n      console.log(\"Got customer contact\");\n      let conversation = await nodeSDK.conversations.openConversationForContact(\n        customerContact\n      );\n      console.log(\"Got conversation\");\n      var totalCount;\n      var availableCount;\n\n      // Count the number of available agents\n      MongoClient.connect(url, { useUnifiedTopology: true }, async function(\n        err,\n        client\n      ) {\n        const col = client.db(dbName).collection(skill);\n\n        await col.countDocuments(function(err, count) {\n          if (!err) {\n            console.log(\"Mongo Total Count is: \" + count);\n            totalCount = count;\n          }\n        });\n        await col.countDocuments({ presence: \"online\" }, function(err, count) {\n          if (!err) {\n            console.log(\"Mongo Available Count is: \" + count);\n            availableCount = count;\n            nodeSDK.im.sendMessageToConversation(\n              conversation,\n              `There are ${availableCount}/${totalCount} agents available in the ${content} category`\n            );\n          }\n        });\n      });\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n  text-decoration: none;\n}\nli a {\n  text-decoration: none;\n}\n.header {\n  background-image: url(\"../assets/bank.jpg\");\n  color: #fff;\n  text-align: center;\n  padding: 270px;\n}\n\n.header a {\n  color: #fff;\n  padding-right: 5px;\n  text-decoration: none;\n}\n</style>\n"],"sourceRoot":"src/views"}]}